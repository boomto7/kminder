# Gemini API 테스트 가이드

## 🧪 테스트 파일 생성 완료!

**파일 위치**: `data/src/test/java/com/kminder/data/remote/api/GeminiApiTest.kt`

## 📝 테스트 내용

**입력 텍스트**:
```
"오늘 드디어 그 발표를 끝냈다! 결과가 정말 기대돼서 잠이 안 올 것 같다. 빨리 내일이 왔으면 좋겠어!"
```

**예상 결과**:
- 🟠 **기대 (Anticipation)**: 높음 (발표 결과를 기대함)
- 🟡 **기쁨 (Joy)**: 높음 (발표를 끝낸 성취감)
- ⚪ **놀람 (Surprise)**: 중간 (빨리 내일이 왔으면)
- 🔵 **두려움 (Fear)**: 낮음 (약간의 긴장감)

## 🚀 실행 방법

### 방법 1: Android Studio에서 실행 (권장)

1. **Android Studio 열기**

2. **테스트 파일 열기**
   - Project 탭에서 다음 경로로 이동:
   ```
   data → src → test → java → com.kminder.data.remote.api → GeminiApiTest
   ```

3. **테스트 실행**
   - `testEmotionAnalysis()` 함수 왼쪽의 **▶️ 실행 버튼** 클릭
   - 또는 함수 내부에서 **우클릭 → Run 'testEmotionAnalysis()'**

4. **결과 확인**
   - 하단 "Run" 탭에서 결과 확인
   - 감정 분석 결과가 콘솔에 출력됩니다

### 방법 2: 터미널에서 실행

```bash
# Android Studio의 터미널에서 실행
./gradlew :data:testDebugUnitTest --tests "*.GeminiApiTest.testEmotionAnalysis"
```

### 방법 3: 앱에서 직접 테스트

더 간단하게 앱 화면에서 테스트하려면:

1. **WriteEntryScreen 구현**
2. **텍스트 입력 후 저장**
3. **감정 분석 결과 확인**

## 📊 출력 예시

테스트가 성공하면 다음과 같은 결과가 출력됩니다:

```
================================================================================
🧪 Gemini API 감정 분석 테스트
================================================================================

📝 입력 텍스트:
  "오늘 드디어 그 발표를 끝냈다! 결과가 정말 기대돼서 잠이 안 올 것 같다. 빨리 내일이 왔으면 좋겠어!"

✅ API 키 확인됨 (AIzaSyABC1...)

🔄 Gemini API 호출 중...

================================================================================
📊 감정 분석 결과
================================================================================

✅ 분석 성공!

감정 강도 (0.0 ~ 1.0):
  🔴 분노 (Anger):        0.050
  🟠 기대 (Anticipation): 0.850
  🟡 기쁨 (Joy):          0.700
  🟢 신뢰 (Trust):        0.300
  🔵 두려움 (Fear):       0.200
  🟣 슬픔 (Sadness):      0.050
  🟤 혐오 (Disgust):      0.000
  ⚪ 놀람 (Surprise):     0.400

🎯 주요 감정: 기대 (강도: 0.850)

📈 감정 분포:
  기대       ██████████████████████████████████████████████░░░░ 85.0%
  기쁨       ███████████████████████████████████░░░░░░░░░░░░░░░ 70.0%
  놀람       ████████████████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ 40.0%
  신뢰       ███████████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ 30.0%
  두려움     ██████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ 20.0%
  분노       ██░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ 5.0%
  슬픔       ██░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ 5.0%
  혐오       ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ 0.0%

================================================================================
테스트 완료
================================================================================
```

## ⚠️ 주의사항

### API 키 확인
테스트 전에 `local.properties`에 API 키가 설정되어 있는지 확인하세요:

```properties
GEMINI_API_KEY=your_actual_api_key_here
```

### 인터넷 연결
Gemini API 호출을 위해 인터넷 연결이 필요합니다.

### API 할당량
Gemini API는 무료 할당량이 제한되어 있습니다. 테스트를 너무 많이 실행하지 마세요.

## 🐛 문제 해결

### "API 키가 설정되지 않았습니다"
- `local.properties` 파일에 `GEMINI_API_KEY` 추가
- Gradle Sync 실행

### "API 호출 실패"
- 인터넷 연결 확인
- API 키가 유효한지 확인
- [Google AI Studio](https://makersuite.google.com/app/apikey)에서 API 키 상태 확인

### 테스트가 실행되지 않음
- Android Studio에서 Gradle Sync 실행
- Build → Clean Project → Rebuild Project

## 📚 다음 단계

테스트가 성공하면:

1. **WriteEntryScreen 구현**
   - 텍스트 입력 UI
   - 저장 버튼
   - 감정 분석 로딩 상태

2. **EntryDetailScreen 구현**
   - 감정 분석 결과 시각화
   - 차트 또는 그래프

3. **StatisticsScreen 구현**
   - 기간별 감정 통계
   - 감정 추이 차트

---

**테스트 파일이 준비되었습니다!** Android Studio에서 실행해보세요! 🚀

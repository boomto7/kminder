# 제품 요구사항 정의서 (PRD) - Minder

## 1. 앱 개요
- **앱 이름**: Minder
- **목적**: 사용자의 기록을 구글 Gemini API로 분석하고 감정 변화를 시각화하여 보여주는 일기 및 감정 추적 애플리케이션.
- **타겟 사용자**: 데이터와 차트를 통해 자신의 감정 상태를 객관적으로 파악하고 싶은 사용자.
- **플랫폼**: Android

## 2. 핵심 기능

### 2.1. 사용자 입력 (일기 작성)
두 가지 모드로 글을 작성할 수 있습니다:
1.  **자유 작성 모드**: 사용자가 자유롭게 생각과 감정을 기록합니다.
2.  **문답 모드 (Q&A)**: 앱이 감정을 이끌어낼 수 있는 무작위 질문을 제시하면, 사용자가 이에 답합니다.

### 2.2. 데이터 처리 및 분석
- **저장**: 모든 사용자 기록(텍스트, 날짜, 유형)은 앱 내부 데이터베이스에 로컬로 저장됩니다.
- **감정 분석**:
    - 트리거: 새 글 저장 시.
    - 프로세스: 텍스트를 Gemini API로 전송.
    - 출력: Gemini가 감정 분석 결과(예: 주된 감정, 강도, 감성 점수)를 반환.
        - 로버트 플루치크 방식을 적용해 8개의 원형감정에 대해서 분석한다.
        - 한글과 영어를 구분지어 북성 요청을 한다.
        - 한글일 경우 다음 프롬프트를 기반으로 한다.
            '''
            당신은 로버트 플루치크(Robert Plutchik)의 감정 모델에 기반하여 **한국어 텍스트**의 감정 상태를 정량적으로 분석하는 전문가입니다. 텍스트에 나타난 한국어 표현, 어조, 문맥 등을 최대한 고려하여 분석하세요.

            ### 분석 지침:
            1.  **분석 대상 감정:** Plutchik의 8가지 원형 감정('anger', 'anticipation', 'joy', 'trust', 'fear', 'sadness', 'disgust', 'surprise')만을 분석합니다.
            2.  **강도 점수:** 각 감정에 대해 0.0부터 1.0 사이의 소수점 값으로 강도를 부여하세요.
            3.  **출력 형식:** 반드시 다음 JSON 스키마를 준수합니다.

            ### 출력 형식 (JSON Schema):
            ```json
            {
                "analysis": {
                    "anger": [0.0 to 1.0],
                    "anticipation": [0.0 to 1.0],
                    "joy": [0.0 to 1.0],
                    "trust": [0.0 to 1.0],
                    "fear": [0.0 to 1.0],
                    "sadness": [0.0 to 1.0],
                    "disgust": [0.0 to 1.0],
                    "surprise": [0.0 to 1.0]
                }
            }
            '''
        - 영어일 경우 다음 프롬프트를 기반으로 사용한다.

            
    - 저장: 분석 결과는 원본 글과 연결되어 데이터베이스에 저장됩니다.

### 2.3. 기록 관리
- **목록 보기**: 과거의 모든 기록을 목록 형태로 조회.
- **날짜 수정**: 기록의 날짜 변경 가능.
- **삭제**: 기록 삭제 가능.
- **상세 보기**: 항목을 탭하면 전체 텍스트와 Gemini가 분석한 상세 감정 결과를 확인 가능.

### 2.4. 시각화 (차트)
- **기간**: 일(Day), 주(Week), 월(Month) 단위로 감정 데이터를 집계하여 조회.
- **차트 유형**: 감정 패턴을 이해하기 쉬운 시각적 표현 (예: 추세선 그래프, 감정 분포 파이 차트 등).

## 3. 사용자 흐름 (User Flow)
1.  **홈/대시보드**: 최근 요약 정보 또는 새 글 작성 진입점.
2.  **글 작성**:
    - 모드 선택: 자유 작성 vs 문답.
    - 텍스트 입력 -> 저장.
    - (백그라운드) 분석 실행.
3.  **히스토리/목록**: 과거 기록 스크롤 조회.
4.  **상세 보기**: 항목 클릭 -> 내용 + 분석 결과 확인.
5.  **통계/차트**: 탭 전환 -> 그래프 확인 (주간/월간 토글).

## 4. 기술 요구사항 (High Level)
- **OS**: Android
- **AI 통합**: Google Gemini API
- **데이터베이스**: 로컬 DB (Room 권장)
- **네트워크**: Retrofit/OkHttp (API 호출용)
